<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Redux Example</title>
    <script src="https://unpkg.com/redux@latest/dist/redux.min.js"></script>
  </head>
  <body>
    <div>
      <p>
        clicked <span id="value">0</span> times <button id="plus">+</button
        ><button id="minus">-</button>
      </p>

      <script>
        const store = Redux.createStore(reducer);
        function reducer(state = 0, action) {
          const { type, payload } = action;
          switch (type) {
            case "plus":
              return state + 1;
              break;
            case "minus":
              return state - 1;
              break;
            default:
              return state;
          }
        }
        const value = document.querySelector("#value");
        const plus = document.querySelector("#plus");
        const minus = document.querySelector("#minus");

        plus.addEventListener("click", function(e) {
          store.dispatch({ type: "plus" });
          value.innerHTML = store.getState();
        });
        minus.addEventListener("click", function(e) {
          store.dispatch({ type: "minus" });
          value.innerHTML = store.getState();
        });
        store.subscribe(() => {
          console.log(store.getState());
        });
      </script>
    </div>
  </body>
</html>
